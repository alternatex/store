<!doctype html>
<html>
  <head>
    <title>RequireJS Store Example</title>
    <script type="text/javascript">
      function nickname(entry){
        //alert(entry.nickname);
      }
      function name(entry){
        alert(entry.name);
      }
    </script>
    <script src="./resources/update/console.log/?instance[type]=resources&amp;instance[name]=johnny_walker&amp;instance[nickname]=sally"></script>    
    <script src="./resources/list/console.log/?instance[type]=default&amp;instance[name]=johnny_walker&amp;instance[nickname]=sally&amp;jsonp=console.log&amp;jsonp=console.log"></script>    
    <script src="./resources/get/nickname/?instance[type]=default&amp;instance[id]=08eb8346-aa50-42ac-998f-e9e7f3586659"></script>    
  </head>
  <body>    
    <pre>
    ...See console...

    Todo's: 
      - Mega menu
      - Inline edit w/bootstrap ext x-edit
      - Auto-Attachment of application auth request headers

    </pre>
    <div id="epiceditor"></div>
    <script data-main="js/app" src="js/lib/require.js"></script>
    <script>
      
      // dummy data   
      var xAuthToken = '2e7ad6c127f5b780089c5f7206faf6fbe7ceb8b2',
          xStoreType = 'Dropbox';
          
      var xHeaders = { 
            'X-Auth-Token': xAuthToken, 
            'X-Store-Type': xStoreType 
          };

      // settings
      var hostname = './server.php';

      // demo impl
      require(['https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js'], function($){

        // ...
        jQuery.ajax(hostname, { 
          headers: xHeaders
        });
      });
    </script>
    
    <img src="data: image/gif;base64,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"/>
    <img src="data: image/gif;base64,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"/>
    <img src="data: image/gif;base64,R0lGODlhMAAwAPf/APO1RvSGprGxsVJQY/e7QvW2RqurqzU6lAaLmXdnSr2Bq+u2VqOio/1oIzM3jdSjU4aqdpSUlP69SY9zbKeYfCsrcouLizKclNLS0dmyVFhXUzQzMEs4FebCg3R0dPm5SHp0aQWZqqGhuu2yR4OCg8jIyGlpafK1SpV8VpWTjioykbyRRkVFU4pyRcbCu2RYfGJiY8HBwZtsJI6Ee3p6iwAAAJl8SMbGxriVVnpldZmaufV0zqirZPa7U+i6ZrmqWv63Qb6+vnh6qgaWpmugeQRteqmUh/m5RPa3R/uYOfp10wgxNbWokjs9i4BuRwCUqtNruc3NzVxWS/OtVp6fqrm5uS0teFaih5ubnNaiRbW1wmpkWbWNRAJdafS1RuWrQ35+ftymRReYo9TSzMyudv/ASpZYh7WMXpeJcmNjkveAt/Ru1vK1RsqcSuGqS8aZSqqnqaShm/i2RP/FQ//FTPTEavq2Q7+VS4mKnmheS+LMoq+sp/5aHG9hRgCbs8qdU/W7PzExbFZOgemvRqCbkfVy0vO3QfK0RkJFkkyfivO2RfW1Rf/BTfu7SDM3jva1RSKfrfW2RaqUbtChTb28up+LacqaRv+9RmpPH/W4SQ2Xo46PpMrIxi80jre2tQAFBv67QmppZrijfNGfRLGcgj5Bko6QpgBPXt+zTqanrjMmDqmnpDc3VhcXF5huQL+8kdihP0WotGGigettzM/T0+16y9rRv9VsMfGzRvO4R//HTdCAQVpUjfm4TPO0R/y7SZOMkdyUZgiisi8wfDY4fDAzhF1hozQ4iLuLNm96d/+0RXx0fZGQjgB6kC9/jXq7wqJ8ao+CafK0RQ8PD9DCp9/OsKN2XY9WQ/e3Rbakhf9/4k9RjiQtkk9SkcTCwXxvWMPDwzeksP+zRMbGzZaCXfGuTgIbHqmPYRsUCAQDAei+c66uvfOhcN+nTri4vG6iqO+0RwcHB/Oibbm1ZgCNpGBioOuFNfiHMfSvQ/rBS6SBR7auoKyRX/951/962tTU1CH5BAEAAP8ALAAAAAAwADAAAAj/AP8JHEiwoMGDCBMqLIhBhBAhOhSOEyJiocWDQeqVKmVsXUIdiNJouUhSII1hDhw4ahLRIB5HnSpYSeOx5EIaVqw4cuTgwKaCqQ7wrEB0mDubCTFECFRh2IGUPgdG6fbUkRWiVrAgRYjBAAwWLIhVPWBKIJ6nPYvJDMRgK8ISWEiQGNBJhQpBvKj821b1GFhWMAS4RRjlRhBmGl4ImlDggZFOOw+wAAPGQwRwBDnpwTB4oKc/EhS1OzQHGjeVx0iMK0GpREFPjeq46PyPEj8JkbAViPRChQMVL84xmW0wBg5GCzjZpCXQVocFBQBIP9KuCWRuE+aUYVRHzxiCMVAo/9Ml6iKGZ+EgxXrVqwASL9IBHHnQxHeTM6DiI1mgR+qMBkmU441F7wgTgiY8ABEfAF7AB0AkD5zxRzu4RBdfAR+Q8d0/DNzCRwNGLFQCJEUs8YOCALAhBxB22AGEHABgA8oRRyiyoHS+/OKDcp7ckUQD0CxUhRhLyACKg3ZkQEQiiUCQAYo3RvmBD1GUsEs+ElSyUBDOEAGEhY+gcoEffjzxhBgJRhnlIb+QQUoD+NChpUI3JIPKB/EBAQE9XRQRwhBPDPGDHWreeEgj4vBxjy5ocGZQCUEIJIkujTTChi+gQHBKDZ8g8OcTFwCwSKELKpJLA3zYk4KjBJWwwTQaWP9gAyYcINMIAEDM08Un5ng6xBCaZAAjqfHl8uM1BrA6kADx1OBsDenUgM4X78lxRTO+/hosocRKp0gmrpAQg0EYULLBs8+mAwuecsBzRZlmPiGLHQ5224glHgig7EAxeNAKujVg8oGFcsjBwxUXXAABPI90q58bcewr1SombMCBKhzIcAISC3rBIgCPANGww9IVcMIeCpVgADl04JKJBBbe6MUi9ZIMgMmriPiABLnErIghhthos5pIDJKzQtnogkR0PwPiyxTsTCH00As2MolgClHQxggfEHCIPAGosUMA5cRMtXQS8EOJQlEwAIMUfVijRiGFrBGAL4acfWMZ0bj/llQQDDCzDBRK7LCGGnjrveAHYTAThUUYYKCAPzsUokY5eSseXxkoYG0ROLXssMMswRCgeXyNZEHCgBfBUXg/ZjhRxukAINHIN3BIjBADhSuRAwgjYKM5hi0wgxlJq0ChzQ7AMIACHRzrjSEIVdjkSQ5m5CAAJWDo80EZNdtchiRIweWBBTF05UEeLVTocAExY7PA2jaVUEX6/0RhgAWhDBL9zfAL4AckIAF4DKJeH8gAcQaDgRIQYmnSWRoSCPiLAnxhBU5IwBv8h6NMMIIatPkHBSQQwRH0IQ99SGEeNAADD4RCHxtcUAF6ECm3jGEfG0PbHTxAAsqAgQQRYEAV0xhggzuMwmwSiMNWqqGOHnzgf414AxxKEIMqluBxGJDEHSzBoPh44ReEQMo+GMEGNtQMG24Io0FI0YYVcFA6bCjDHY5WEkIMLEpIOAEaDOKJN6xgFP9jgwTCQD2kwKENdHhiACeYiRkYhBCT2KCF4piFLWDhcdYDARfCcMBDAGAQWXDCJQuyigT0IQt0kMAvyjCKLUSAdfWLQCg0IIVaSkEDGgCDJ/hIAg8kgAtO4AIXXHm8rYDDABFghgVIYAELYKEKEotCEARgAROYAAahuExCAgIAOw=="/>
    <img src="data: image/gif;base64,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"/><img src="data: image/gif;base64,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"/>   
    <img src="data: image/gif;base64,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"/>
    
    <div id="dropzone" style="border: 1px dashed; padding: 20px; margin: 10px 0;">H5-D&amp;D - Channel/Camel - Inspection-Hub</div>
    <form method="POST" target="target" action="./server.php/resources/update" enctype="multipart/form-data">      
      <input type="hidden" name="namespace" value="resources"/>
      <input type="hidden" name="action" value="update"/>
      <input type="hidden" name="instance[type]" value="type"/>
      <input type="hidden" name="instance[name]" value="name"/>
      <input type="hidden" name="instance[option][key]" value="key"/>
      <input type="hidden" name="instance[option][value]" value="value"/>
      <input type="hidden" name="instance[option][lists][whitelist][]" value="good.host.com"/>
      <input type="hidden" name="instance[option][lists][blacklist][]" value="evil.host.com"/>
      <input type="file" name="instance[file]"/>
      <button>Update</button>
    </form>    
    <iframe name="target"></iframe>
    <script>

      // TODO: make use of template project

      // playground...
      function setup(){
        
        // store nested        
        var fsStore = new Store({basedir: '/content/somewhere/nested/here/we/are'});
        
        var folder = fsStore.create({
            'path':'/object/nested/structures/for/all', 
            'name': 'the-name'
          });

        folder.update();

        var folder = fsStore.create({'name': 'the-name'});

        folder.update();
        folder.set('name', 'other');

        fsStore.update(folder);

        Store.when(fsStore.list()).then(function(resources){
            console.log("got nested", resources);
          });

        fsStore.list().then(function(resources){
            console.log("got nested", resources);
          });

        Store
          .when(resourcesStore.list())
          .then(function(resources){
            resources.forEach(function(resource){
              if(typeof(resource.get("file"))!="undefined")
                $(document.body).append($("<img src=\""+resource.get("file")+"\"/>"));;
            });      
          });

        // TODO: prevent new on get?!          
        var requests = [];
        requests.push(resourcesStore.get("3349210b-0b8a-4d19-9cec-17efeca929c6").done(function(resource1obj){
          console.log("got resource2221", resource1obj);
        }));
        
        requests.push(resourcesStore.get("33349210b-0b8a-4d19-9cec-17efeca929c6").done(function(resource1obj){
          console.log("got resource2221", resource1obj);
        }));
        
        requests.push(resourcesStore.get("43349210b-0b8a-4d19-9cec-17efeca929c6").done(function(resource1obj){
          console.log("got resource2221", resource1obj);
        }));
        
        requests.push(resourcesStore.get("53349210b-0b8a-4d19-9cec-17efeca929c6").done(function(resource1obj){
          console.log("got resource2221", resource1obj);
        }));
        
        requests.push(resourcesStore.get("3349210b-0b8a-4d19-9cec-17efeca929c6").done(function(resource1obj){
          console.log("got resource2221", resource1obj);
        }));
        
        requests.push(resourcesStore.get("3c771b7b-c154-8d1f-aa25-7a64470939b3").done(function(resource1obj){
          console.log("got resource2221223333", resource1obj);
          resource1obj.set('name1', "meeeee1")
          resource1obj.set('name2', "meeeee234444444555")
          resource1obj.set('name3', "meeeee3")
          resource1obj.update();          
        }));

        Store.when(requests).then(function(requestsDone){
          console.log("requests", requests, requestsDone);
        });
      }

      // power-on-self-test
      (function post(){
        (typeof(Store)!='undefined' && typeof(resourcesStore)!='undefined') ? setup() : setTimeout(post, 100);
      })();
    
    </script>
  </body>
</html>
