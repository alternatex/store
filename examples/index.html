<!doctype html>
<html>
  <head>
    <title>RequireJS Store Example</title>
    <script type="text/javascript">
      function nickname(entry){
        alert(entry.nickname);
      }
      function name(entry){
        alert(entry.name);
      }
    </script>
    <script src="http://localhost/store/examples/server.php?namespace=resources&amp;action=update&amp;instance[type]=default&amp;instance[name]=johnny_walker&amp;instance[nickname]=sally&amp;jsonp=console.log&amp;jsonp=console.log"></script>    
    <script src="http://localhost/store/examples/server.php?namespace=resources&amp;action=list&amp;instance[type]=default&amp;instance[name]=johnny_walker&amp;instance[nickname]=sally&amp;jsonp=console.log&amp;jsonp=console.log"></script>    
    <script src="http://localhost/store/examples/server.php?namespace=resources&amp;action=get&amp;instance[type]=default&amp;instance[id]=user@host.tld&amp;jsonp=console.log&amp;jsonp=nickname"></script>    
    <script src="http://localhost/store/examples/server.php?namespace=pony&amp;action=get&amp;instance[type]=default&amp;instance[id]=1ae0dd01-1659-58af-1369-bc615041e73e&amp;jsonp=name"></script>    
  </head>
  <body>    
    <pre>
    ...See console...

    Todo's: 
      - Mega menu
      - Inline edit w/bootstrap ext x-edit
      - Auto-Attachment of application auth request headers

    </pre>
		<div id="epiceditor"></div>
		<script data-main="js/app" src="js/lib/require.js"></script>
    <script>
      
      // dummy data   
      var xAuthToken = '2e7ad6c127f5b780089c5f7206faf6fbe7ceb8b2',
          xStoreType = 'Dropbox';
          
      var xHeaders = { 
            'X-Auth-Token': xAuthToken, 
            'X-Store-Type': xStoreType 
          };

      // settings
      var hostname = 'http://localhost/store/examples/server.php';

      // demo impl
      require(['http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js'], function($){

        // ...
        jQuery.ajax(hostname, { 
          headers: xHeaders
        });
      });
    </script>
    <img src="data: image/gif;base64,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"/>
    <img src="data: image/gif;base64,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"/>
    <form method="POST" target="target" action="http://localhost/store/examples/server.php" enctype="multipart/form-data">      
      <input type="hidden" name="namespace" value="resources"/>
      <input type="hidden" name="action" value="update"/>
      <input type="hidden" name="instance[type]" value="default"/>
      <input type="hidden" name="instance[name]" value="mememe"/>
      <input type="hidden" name="instance[nickname]" value="mememe"/>
      <input type="hidden" name="jsonp" value="console.log"/>
      <input type="file" name="instance[file]"/>
      <button>upload</button>
    </form>
    <iframe name="target"></iframe>
  </body>
</html>